<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Cr&#xE9;ez votre generateur Yeoman</title>
	<!-- bower:css -->
	<link rel="stylesheet" href="vendor/normalize-css/normalize.css">
	<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.css">
	<link rel="stylesheet" href="vendor/highlightjs/styles/tomorrow.css">
	<link rel="stylesheet" href="vendor/ruban/css/ruban.min.css">
	<!-- endbower -->
	<link rel="stylesheet" href="vendor/ruban/css/ruban-print.min.css" media="print">
	<link rel="stylesheet" href="css/style.css">

	<!-- bower:js -->
	<script src="vendor/jquery/jquery.js"></script>
	<script src="vendor/keymaster/keymaster.js"></script>
	<script src="vendor/hammerjs/hammer.js"></script>
	<script src="vendor/highlightjs/highlight.pack.js"></script>
	<script src="vendor/ruban/js/ruban.min.js"></script>
	<!-- endbower -->

	<script src="js/app.js"></script>
</head>

<body>

<section class="center" id="first-slide">
	<div>
		<img src="img/logo-web2day.png" alt="Web2Day">
		<h1>Cr&#xE9;ez votre propre g&#xE9;n&#xE9;rateur Yeoman</h1>
		<p>Thierry LAU</p>
		<i class="fa fa-twitter"></i><a href="http://www.twitter.com/laut3rry"> laut3rry</a>
	</div>
</section>

<section id="bio" class="no-toc animate">
	<h1>Thierry LAU</h1>
	<img class="arthur" src="img/arthur.png" alt="">
	<ul class="steps">
		<li><i class="fa fa-html5"></i>D&#xE9;veloppeur Front End</li>
		<li class="sfeir"><i class="fa fa-sfeir"></i><a href="http://www.sfeir.com/">SFEIR</a></li>
		<li><i class="fa fa-google-plus"></i><a href="http://gplus.to/html5css3fr ">HTML5 * CSS3 [FR]</a></li>
		<li><img class="logo" src="img/angularjs.png" alt=""><a href="www.meetup.com/AngularJS-Paris/">Meetup AngularJS Paris</a></li>
		<li><i class="fa fa-github"></i><a href="http://lauterry.github.io/generator-ngtailor/">generator-ngtailor</a></li>
	</ul>
</section>

<section class="center" id="what-is-yeoman">
	<div>
		<img class="picture" src="img/yeoman.png" alt="Yeoman">
		<i class="fa fa-question"></i>
	</div>
</section>

<section>
	<p>Yeoman est un g&#xE9;n&#xE9;rateur de projet et workflow Front End qui s&apos;appuie sur ...</p>
</section>

<section class="center">
	<div>
		<img src="img/yeoman-tools.png" alt="Yeoman">
	</div>
</section>

<section>
	<h1></h1>
	<ul class="steps">
		<li><p>Cr&#xE9;e l&apos;arborescence de votre projet</p></li>
		<li><p>Pr&#xE9;pare votre workflow Front End (Grunt)</p></li>
		<li><p>R&#xE9;cup&#xE8;re les d&#xE9;pendances de votre projet</p></li>
	</ul>
</section>

<section class="center">
	<div>
		<h1>Installer Yeoman</h1>
		<pre><code class="bash bigger">npm install -g yo</code></pre>
	</div>
</section>

<section class="center">
	<div>
		<h1>Installer un g&#xE9;n&#xE9;rateur</h1>
		<pre><code class="bash bigger">npm install -g generator-angular</code></pre>
	</div>
</section>

<section>
	<h1>G&#xE9;n&#xE9;rateurs</h1>
	<ul class="steps">
		<li>generator-angular</li>
		<li>generator-backbone</li>
		<li>generator-ember</li>
		<li>generator-ionic</li>
		<li>generator-flight</li>
		<li>generator-ngtailor</li>
		<li><b>plus de 730</b></li>
	</ul>
	<details open="open">
		<summary>Notes</summary>
		<p>
			Expliquer la notion de g&#xE9;n&#xE9;rateurs et pr&#xE9;senter quelques g&#xE9;n&#xE9;rateurs officiel et ceux de la communaut&#xE9;
		</p>
	</details>
</section>

<section class="center">
	<div>
		<h1>G&#xE9;n&#xE9;rer votre projet</h1>
		<pre><code class="bash bigger">yo angular</code></pre>
	</div>
</section>

<section class="no-toc">
	<h1>R&#xE9;sultat en gif anim&#xE9;</h1>
</section>

<section>
	<img class="picture full" src="img/yo-angular.gif" alt="">
</section>

<section>
	<h1></h1>
	<ul class="steps">
		<li><p>Trop de choses ?</p></li>
		<li><p>Pas assez de choses ?</p></li>
		<li><p>Ne r&#xE9;pond pas &#xE0; mes besoins ?</p></li>
		<li><p><b>Cr&#xE9;ez votre propre g&#xE9;n&#xE9;rateur</b></p></li>
	</ul>
</section>

<section>
	<div>
		<h1>Vous aimez <a href="http://loicfrering.github.io/ruban/">RubanJS ?</a></h1>
		<p>par Lo&#xEF;c Frering <small><i class="fa fa-twitter"></i><a href="https://twitter.com/loicfrering">@loicfrering</a></small></p>
	</div>
</section>

<section>
	<h2>Et si on codait un g&#xE9;n&#xE9;rateur Ruban ?</h2>
</section>

<section>
	<h2>Il nous faut un g&#xE9;n&#xE9;rateur de g&#xE9;n&#xE9;rateur</h2>
	<ul class="steps">
		<li>
			<pre><code class="bash bigger">npm install -g generator-generator</code></pre>
		</li>
		<li>
			<pre><code class="bash bigger">yo generator</code></pre>
		</li>
	</ul>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section class="animate">
	<h1>Essayer votre g&#xE9;n&#xE9;rateur</h1>
	<p>Cr&#xE9;er un lien global vers votre g&#xE9;n&#xE9;rateur</p>
	<p><pre class="slide-to-right"><code class="bash bigger">npm link</code></pre></p>
</section>

<section>
	<h1><i class="fa fa-film"></i> Actions</h1>
</section>

<section>
	<pre><code class="javascript">
var yeoman = require(&apos;yeoman-generator&apos;);

yeoman.generators.base.extend({

	step1 : function () {
		// action 1
	},

	step2 : function () {
		// action 2
	},

	step3 : function () {
		// action 3
	}

});
	</code></pre>
</section>

<section>
	<h1><i class="fa fa-lightbulb-o"></i> A retenir</h1>
	<ul class="steps">
		<li><p>Une action est automatiquement appel&#xE9;e par le g&#xE9;n&#xE9;rateur si elle est d&#xE9;finie dans le prototype de celui-ci</p></li>
		<li><p>Chaque action est appel&#xE9;e dans l&apos;ordre de d&#xE9;claration</p></li>
	</ul>
</section>

<section>
	<p>Et si je ne veux pas que le g&#xE9;n&#xE9;rateur appelle ma fonction ?</p>
	<pre><code class="javascript smaller">
yeoman.generators.base.extend({

	step1 : function () {},

	step2 : function () {},

	step3 : function () {
		this._stepNotCalled();
	},

	_stepNotCalled : function () {}

});
	</code></pre>
</section>

<section>
	<h1><i class="fa fa-user"></i> Int&#xE9;ragir avec l&apos;utilisateur</h1>
</section>

<section class="animate">
	<div>
		<h1>Prompts</h1>
		<a class="slide-to-right" href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js</a>
	</div>
</section>


<section class="center" id="prompt-list">
	<div>
		<pre><code class="javascript bigger">
{ type : &quot;list&quot; }
		</code></pre>
		<img class="picture" src="img/inquirer-list.png" alt="inquirer list">
	</div>
</section>

<section class="center" id="prompt-confirm">
	<div>
	<pre><code class="javascript bigger">
{ type : &quot;confirm&quot; }
	</code></pre>
		<img class="picture" src="img/inquirer-confirm.png" alt="inquirer confirm">
	</div>
</section>

<section class="center" id="prompt-checkbox">
	<div>
		<pre><code class="javascript bigger">
{ type : &quot;checkbox&quot; }
		</code></pre>
		<img class="picture" src="img/inquirer-checkbox.png" alt="inquirer checkbox">
	</div>
</section>

<section>
	<pre><code class="javascript smaller">
yeoman.generators.Base.extend({

	prompt: function () {

		var done = this.async();

		this.prompt([{
			type    : &quot;input&quot;,
			name    : &quot;name&quot;,
			message : &quot;Your project name&quot;,
			default : &quot;A Cool project&quot;
		}], function (answers) {
			console.log(answers.name);
			done();
		});

	}

})
	</code></pre>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-file-text-o"></i> Int&#xE9;ragir avec les fichiers</h1>
</section>

<section>
	<div>
		<h1><i class="fa fa-upload"></i> Source</h1>
		<p><pre><code class="bash bigger">par d&#xE9;fault <i class="fa fa-folder"></i> ../templates</code></pre></p>
		<pre><code class="javascript bigger">this.src.readJSON(&apos;package.json&apos;)</code></pre>
	</div>
</section>

<section>
	<div>
		<h1><i class="fa fa-download"></i> Destination</h1>
		<pre><code class="javascript big">this.dest.copy(&apos;app.js&apos;, &apos;dist/app.js&apos;)</code></pre>
	</div>
</section>

<section>
	<h1><i class="fa fa-file-code-o"></i> Templating</h1>
	<ul class="steps">
		<li><p><a href="devdocs.io/lodash/index#template">Lodash</a></p></li>
		<li><p><a href="http://epeli.github.io/underscore.string/">Underscore.string</a></p></li>
	</ul>
</section>

<section>
	<div>
		<p>_index.html</p>
		<pre><code class="html">
&lt;head&gt;
	&lt;title&gt;&lt;%= app %&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;% if (greeting) {%&gt;
&lt;p&gt;Hello &lt;%= _.humanize(name) %&gt;&lt;/p&gt;
&lt;% } %&gt;

&lt;/body&gt;
&lt;/html&gt;
		</code></pre>
	</div>
</section>

<section>
	<pre><code class="javascript big">this.template(&apos;_index.html&apos;, &apos;index.html&apos;)</code></pre>
</section>

<section>
	<div>
		<p>index.html</p>
		<pre><code class="html">
&lt;head&gt;
	&lt;title&gt;My App&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;Hello Dev2day&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
		</code></pre>
	</div>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-link"></i> G&#xE9;rer les d&#xE9;pendances</h1>
</section>

<section class="center">
	<div>
		<h1>npm</h1>
		<pre><code class="javascript bigger">
this.npmInstall()
		</code></pre>
	</div>
</section>

<section class="center">
	<div>
		<h1>bower</h1>
		<pre><code class="javascript bigger">
this.bowerInstall()
		</code></pre>
	</div>
</section>

<section class="center">
	<div>
		<h1>npm + bower</h1>
		<pre><code class="javascript bigger">
this.installDependencies()
		</code></pre>
	</div>
</section>

<section>
	<h1><i class="fa fa-lightbulb-o"></i> A retenir</h1>
	<ul class="steps">
		<li><p>this.installDependencies() peut &#xEA;tre appel&#xE9; n&apos;importe o&#xF9; dans votre code</p></li>
		<li><p><code class="bash">npm install</code> et <code class="bash">bower install</code> seront ex&#xE9;cut&#xE9;s &#xE0; la fin des actions</p></li>
	</ul>
</section>

<section>
	<h1><i class="fa fa-flag"></i> Finalisation</h1>
</section>

<section>
	<p>Effectuer des t&#xE2;ches quand toutes les actions ont &#xE9;t&#xE9; r&#xE9;alis&#xE9;es</p>
</section>

<section>
	<pre><code class="javascript">

yeoman.generators.Base.extend({
	init: function () {
		this.on(&apos;end&apos;, function () {
			// t&#xE2;ches finales
		});
	}
});
	</code></pre>
</section>

<section>
	<h1>Exemples</h1>
	<ul class="steps">
		<li><p>Afficher un message en couleurs avec <a href="https://github.com/sindresorhus/chalk">chalk</a></p></li>
		<li><p>Importer vos JS et CSS dans index.html avec <a href="https://github.com/stephenplusplus/wiredep">wiredep</a></p></li>
	</ul>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-file-code-o"></i> Gruntfile Editor API</h1>
</section>

<section>
	<h1>Gruntfile.js</h1>
	<ul class="steps">
		<li><p>important car d&#xE9;finit votre workflow</p></li>
		<li><p>un des fichiers les plus &#xE9;dit&#xE9;s par les g&#xE9;n&#xE9;rateurs</p></li>
		<li><p>peut &#xEA;tre pollu&#xE9; par le code de templating</p></li>
	</ul>
</section>

<section>
	<div>
		<img class="picture" src="img/before-gruntfile-editor-api.jpg" alt="">
	</div>
</section>

<section>
	<h1></h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript smaller">
this.gruntfile.insertConfig(&quot;clean&quot;, &quot;{build: [&apos;dist&apos;]}&quot;);
			</code></pre>
		</li>
		<li>
			<pre><code class="javascript smaller">
grunt.initConfig({
    clean: {
	   build : [&apos;dist&apos;]
    }
});
			</code></pre>
		</li>
		<li>
			<pre><code class="javascript smaller">
this.gruntfile.registerTask(&apos;build&apos;, [&apos;compass&apos;, &apos;uglify&apos;]);
			</code></pre>
		</li>
		<li>
			<pre><code class="javascript smaller">
grunt.registerTask(&apos;build&apos;, [&apos;compass&apos;, &apos;uglify&apos;]);
			</code></pre>
		</li>
	</ul>
</section>

<section>
	<h1><i class="fa fa-warning"></i> Attention</h1>
	<ul class="steps">
		<li><p>A partir de yeoman-generator 0.17 seulement</p></li>
	</ul>
</section>

<section class="center">
	<div>
		<img class="picture " src="img/yeoman_0.17.jpg" alt="">
	</div>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-check-circle-o"></i> Tester vos g&#xE9;n&#xE9;rateurs</h1>
</section>

<section>
	<h1>Tester quoi ?</h1>
	<ul class="steps">
		<li><p>pr&#xE9;sence ou absence de fichier</p></li>
		<li><p>contenu du fichier</p></li>
	</ul>
</section>

<section>
	<h1>Comment ?</h1>
	<ul class="steps">
		<li>Cr&#xE9;er un r&#xE9;pertoire de test</li>
		<li>Cr&#xE9;er le g&#xE9;n&#xE9;rateur</li>
		<li>Mocker</li>
		<li>Appeler le g&#xE9;n&#xE9;rateur</li>
		<li>V&#xE9;rifier les assertions</li>
	</ul>
</section>

<section id="test-helpers">
	<h1>Test Helpers</h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript big">
var helpers = require(&apos;yeoman-generator&apos;).test;
			</code></pre>
		</li>
	</ul>
</section>

<section>
	<pre><code class="javascript">
before(function (done) {

  helpers.run(&apos;../generators/app&apos;)
    .inDir(&apos;./tmp&apos;)
    .withOptions({ foo: &apos;bar&apos; })
    .withArguments([&apos;name-x&apos;])
    .withPrompt({ coffee: false })
    .onEnd(done)

})
	</code></pre>
</section>

<section>
	<h1><i class="fa fa-lightbulb-o"></i> Conseil</h1>
	<ul class="steps">
		<li><p>Pr&#xE9;f&#xE9;rez les chemins absolus pour &#xE9;viter les comportements impr&#xE9;visibles</p></li>
		<li>
			<pre><code class="javascript smaller">
var path = require(&apos;path&apos;);

before(function (done) {

  helpers.run(path.join( __dirname, &apos;../app&apos;))
    .inDir(path.join( __dirname, &apos;./tmp&apos;))
	...

})
			</code></pre>
		</li>
	</ul>
</section>

<section id="assert-helpers">
	<h1>Assert Helpers</h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript big">
var assert = require(&apos;yeoman-generator&apos;).assert;
			</code></pre>
		</li>
	</ul>
</section>

<section id="assert-api">
	<h1></h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript">
assert.file(path);
			</code></pre></li>
		<li>
		<pre><code class="javascript">
assert.noFile(path);
			</code></pre></li>
		
		<li>
			<pre><code class="javascript">
assert.fileContent(path, regex);
			</code></pre></li>
		
		<li>
			<pre><code class="javascript">
assert.noFileContent(path, regex);
			</code></pre></li>
		
	</ul>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-gear"></i> Sub-generators</h1>
</section>

<section>
	<pre><code class="javascript bigger">
yo generator:subgenerator &quot;name&quot;
	</code></pre>
</section>

<section>
	<h1>Exemples</h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript bigger">yo angular:filter &quot;monFiltre&quot;</code></pre></li>
		<li>
			<pre><code class="javascript bigger">yo backbone:model &quot;monModel&quot;</code></pre>
		</li>
		
		<li>
			<pre><code class="javascript bigger">yo ember:controller &quot;monController&quot;</code></pre></li>
		
		<li>
			<pre><code class="javascript bigger"><b>yo ruban:slide &quot;titreDuSlide&quot;</b></code></pre></li>
		
	</ul>
</section>

<section>
	<h1></h1>
	<ul class="steps">
		<li>
			<p>Fonctionne comme un g&#xE9;n&#xE9;rateur Yeoman</p>
		</li>
	</ul>
</section>

<section>
	<h1></h1>
	<ul class="steps">
		<li>
			<pre><code class="javascript bigger">yo ruban:slide &quot;titreDuSlide&quot;</code></pre></li>
			<pre><code class="javascript bigger">
yeoman.generators.nameBase.extend({
  step : function() {
      console.log(this.name);
      // titreDuSlide
  }
})
			</code></pre>
		
	</ul>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-database"></i> Yeoman Storage API</h1>
</section>

<section>
	<p>Sauvegarder des donn&#xE9;es</p>
	<p>Partager des donn&#xE9;es entre g&#xE9;n&#xE9;rateurs et sous-g&#xE9;n&#xE9;rateurs</p>
</section>

<section>
	<p>.yo-rc.json</p>
	<p>
		<pre><code class="json">
{
   &quot;generator-backbone&quot;: {
      &quot;requirejs&quot;: true,
      &quot;coffee&quot;: true
   },
   &quot;generator-gruntfile&quot;: {
      &quot;compass&quot;: false
   }
}
		</code></pre>
	</p>
</section>

<section id="yeoman-storage-api">
	<h1></h1>
	<ul class="steps">
		<li>
			<p><pre><code class="javascript">this.config.set(key, value)</code></pre></p>
		</li>
		<li>
			<p><pre><code class="javascript">this.config.get(key)</code></pre></p>
		</li>
		
		<li>
			<p><pre><code class="javascript">this.config.delete(key)</code></pre></p></li><p></p>
		
	</ul>
</section>

<section class="no-toc">
	<h1><i class="fa fa-play"></i> DEMO</h1>
</section>

<section>
	<h1><i class="fa fa-share-alt"></i> Composabilit&#xE9;</h1>
</section>

<section>
	<p>Un g&#xE9;n&#xE9;rateur pourra travailler de concert avec un autre g&#xE9;n&#xE9;rateur</p>
</section>

<section>
	<h1>Ingr&#xE9;dients</h1>
	<ul class="steps">
		<li>Gruntfile API Editor</li>
		<li>Yeoman Storage API</li>
		<li>generator.composeWith()</li>
		<li>Run Loop</li>
	</ul>
</section>

<section>
	<h1>Gruntfile Editor API</h1>
	<ul class="steps">
		<li><p>charge le Gruntfile du projet et l&apos;enrichit</p></li>
		<li><p>sinon cr&#xE9;e un nouveau Gruntfile par d&#xE9;faut s&apos;il n&apos;existe pas</p></li>
	</ul>
</section>

<section>
	<h1>this.composeWith()</h1>
</section>

<section>
	<p>Invoquer un g&#xE9;n&#xE9;rateur ou un sous g&#xE9;n&#xE9;rateur</p>
</section>

<section>
	<h1><i class="fa fa-refresh"></i> Run loop</h1>
</section>

<section>
	<p>Cycle de vie avec un syst&#xE8;me de priorit&#xE9;</p>
</section>

<section>
	<h1>Run Loop</h1>
	<p>
	<pre><code class="javascript smaller">
yeoman.generators.base.extend({
	initializing : function () {},
	prompting : function () {},
	configuring : function () {},

	default : function () {},

	writing : function () {},
	conflicts : function () {},
	install : function () {},
	end : function () {
		aStep : function () {},
		anotherStep : function () {}
	}
});
	</code></pre>
	</p>
</section>

<section>
	<h1>Conclusion</h1>
</section>

<section>
	<p>Cr&#xE9;er un g&#xE9;n&#xE9;rateur Yeoman</p>
	<ul class="steps">
		<li><p><i class="fa fa-user"></i> pour vous</p></li>
		<li><p><i class="fa fa-users"></i> pour votre &#xE9;quipe</p></li>
		<li><p><i class="fa fa-globe"></i> pour la communaut&#xE9;</p></li>
	</ul>
</section>

<section>
	<h1>Mes g&#xE9;n&#xE9;rateurs</h1>
	<ul class="steps">
		<li><p><a href="https://github.com/lauterry/generator-ngtailor"><i class="fa fa-github"></i> generator-ngtailor</a></p></li>
		<li><p><a href="https://github.com/lauterry/generator-ruban"><i class="fa fa-github"></i> generator-ruban</a></p></li>
	</ul>
</section>


<section class="center">
	<div>
		<h1>Merci</h1>
		<p><i class="fa fa-twitter"></i>laut3rry</p>
	</div>
</section>
</body>
</html>